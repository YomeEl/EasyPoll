@{
    ViewData["Title"] = "Активный опрос";
}

<div id="question" class="question"></div>
<br>
<div id="answers"></div>
<br>
<div class="btn-container">
    <div id="btn-next" class="btn-common" onclick="nextQuestion()">
        <label class="btn-text">Следующий вопрос</label>
    </div>
    <div id="btn-prev" class="btn-common" onclick="prevQuestion()">
        <label class="btn-text">Предыдущий вопрос</label>
    </div>
    <div id="btn-finish" class="btn-common" onclick="sendPoll()">
        <label class="btn-text">Завершить опрос</label>
    </div>
</div>

<br>
<div class="question">Проголосовало: @((int)ViewData["TotalCount"])</div>
<br>
<div class="btn-container">

    <div class="btn-common" onclick="location.href='@Url.Action("Logout", "Authentification")'">
        <label class="btn-text">Выход</label>
    </div>
    @{
        if ((bool)ViewData["ShowControlPanelButton"])
        {
            <div class="btn-common" onclick="location.href='@Url.Action("ControlPanel", "Settings")'">
                <label class="btn-text">Панель управления</label>
            </div>
        }
    }
</div>
<script src="/js/ActivePoll/common.js"></script>
@if ((bool)ViewData["Answered"])
{
    <script src="~/js/ActivePoll/viewResults.js"></script>
}
else
{
    <script src="~/js/ActivePoll/answerPoll.js"></script>
}
<script>
    var q = @Html.Raw(Json.Serialize(ViewData["Questions"]));
    var a = @Html.Raw(Json.Serialize(ViewData["Answers"]));
    var u = @Html.Raw(Json.Serialize(ViewData["UserSelection"]));
    init(q, a, u, @(((bool)ViewData["Answered"]).ToString().ToLower()));
</script>